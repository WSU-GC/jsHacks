<!-- <div id="exportToCsv">
    <a href="#" id="exportToCsvLink">Export to Comma Seperated Value (CSV)</a>
</div>-->
<script type="text/javascript" src="${resourcePath}/tabletocsv.js"></script>
<script type="text/javascript">

(function() {
	var resources = [
		["${resourcePath}/tabletocsv.js", init]
	];

	function init($) { 
		var table = document.getElementById("listContainer_datatable");
			//var exportDiv = document.getElementById("exportToCsv");
			//var exportLink = document.getElementById("exportToCsvLink");
			var exportDiv = document.createElement('div');
			var exportLink = document.createElement('a');
			exportLink.setAttribute('href', '#');
			exportLink.setAttribute('id', 'exportToCsvLink');
			exportLink.innerHTML = 'Export to CSV'
			exportDiv.appendChild(exportLink);
			if (!table) return;
			table.parentNode.insertBefore(exportDiv, table);
			$(exportLink).click(function() {
				var csv = $('#listContainer_datatable').table2CSV({
					delivery: 'value'
				});
				var blob = new Blob([csv], {type: "text/plain;charset=utf-8"});
				saveAs(blob, "data-table-export.csv");
			});
			//exportDiv.style.display = 'block';
	}

	document.addEventListener("DOMContentLoaded", function() {
		(function($) {

			resources.forEach(function(resource) {
				var localArgs = resource[2] || [];
				loadResources(resource, [$].concat(localArgs));
			});

		}(jQuery));
	});

}());

	
</script>